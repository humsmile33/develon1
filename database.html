<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Modern Space - ë°ì´í„°ë² ì´ìŠ¤</title>
    <!-- Supabase í´ë¼ì´ì–¸íŠ¸ ë¼ì´ë¸ŒëŸ¬ë¦¬ -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <style>
        /* --- CSS ë³€ìˆ˜ ë° ì´ˆê¸°í™” (ë””ìì¸ ì‹œìŠ¤í…œ) --- */
        :root {
            --primary-color: #2563eb;
            --primary-hover: #1d4ed8;
            --text-main: #1f2937;
            --text-sub: #6b7280;
            --bg-body: #f3f4f6;
            --bg-card: #ffffff;
            --border-color: #e5e7eb;
            --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
            --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
            --radius: 8px;
            --font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: var(--font-family);
            background-color: var(--bg-body);
            color: var(--text-main);
            line-height: 1.6;
        }

        a {
            text-decoration: none;
            color: inherit;
            transition: color 0.2s;
        }

        ul {
            list-style: none;
        }

        /* --- ë ˆì´ì•„ì›ƒ ì»¨í…Œì´ë„ˆ --- */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        /* --- í—¤ë” (Header) --- */
        header {
            background-color: var(--bg-card);
            border-bottom: 1px solid var(--border-color);
            position: sticky;
            top: 0;
            z-index: 100;
            box-shadow: var(--shadow-sm);
        }

        .header-inner {
            display: flex;
            justify-content: space-between;
            align-items: center;
            height: 70px;
        }

        .logo {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--primary-color);
            letter-spacing: -0.5px;
        }

        nav ul {
            display: flex;
            gap: 30px;
        }

        nav a {
            font-weight: 500;
            color: var(--text-main);
        }

        nav a:hover, nav a.active {
            color: var(--primary-color);
        }

        /* --- ë°ì´í„°ë² ì´ìŠ¤ ì„¹ì…˜ --- */
        .database-section {
            padding: 40px 0 60px;
        }

        .section-header {
            margin-bottom: 30px;
        }

        .section-title {
            font-size: 2rem;
            font-weight: 700;
            margin-bottom: 10px;
        }

        .section-description {
            color: var(--text-sub);
            font-size: 1rem;
        }

        /* ë°ì´í„°ë² ì´ìŠ¤ ì„¹ì…˜ ìƒë‹¨ */
        .section-top {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
        }

        /* ë°ì´í„°ë² ì´ìŠ¤ ì¹´ë“œ ê·¸ë¦¬ë“œ */
        .database-grid {
            display: flex;
            gap: 20px;
            overflow-x: auto;
            padding-bottom: 20px;
            margin-bottom: 40px;
        }

        .database-card {
            background-color: var(--bg-card);
            border-radius: var(--radius);
            box-shadow: var(--shadow-md);
            padding: 30px;
            transition: transform 0.2s, box-shadow 0.2s, border-color 0.2s;
            cursor: pointer;
            min-width: 320px;
            max-width: 350px;
            flex-shrink: 0;
            border: 2px solid transparent;
            position: relative;
        }

        .database-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 15px -3px rgba(0, 0, 0, 0.15);
        }

        .database-card.selected {
            border-color: var(--primary-color);
            background-color: #f0f7ff;
        }

        .database-icon {
            font-size: 2.5rem;
            margin-bottom: 15px;
        }

        .database-name {
            font-size: 1.25rem;
            font-weight: 700;
            margin-bottom: 10px;
        }

        .database-description {
            color: var(--text-sub);
            font-size: 0.9rem;
            margin-bottom: 15px;
            min-height: 42px;
        }

        .database-stats {
            display: flex;
            gap: 20px;
            padding-top: 15px;
            border-top: 1px solid var(--border-color);
        }

        .stat-item {
            display: flex;
            flex-direction: column;
        }

        .stat-value {
            font-size: 1.1rem;
            font-weight: 700;
            color: var(--primary-color);
        }

        .stat-label {
            font-size: 0.75rem;
            color: var(--text-sub);
        }

        /* ì¹´ë“œ ì‚­ì œ ë²„íŠ¼ */
        .delete-btn {
            position: absolute;
            top: 15px;
            right: 15px;
            background-color: #fee2e2;
            color: #dc2626;
            border: none;
            border-radius: 50%;
            width: 32px;
            height: 32px;
            cursor: pointer;
            font-size: 1rem;
            opacity: 0;
            transition: opacity 0.2s, background-color 0.2s;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .database-card:hover .delete-btn {
            opacity: 1;
        }

        .delete-btn:hover {
            background-color: #fecaca;
        }

        /* + ë²„íŠ¼ */
        .add-database-btn {
            background-color: var(--primary-color);
            color: white;
            border: none;
            border-radius: var(--radius);
            width: 50px;
            height: 50px;
            font-size: 1.5rem;
            cursor: pointer;
            transition: background-color 0.2s, transform 0.2s;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .add-database-btn:hover {
            background-color: var(--primary-hover);
            transform: scale(1.1);
        }

        /* ìƒì„¸ ì„¹ì…˜ */
        .detail-section {
            background-color: var(--bg-card);
            border-radius: var(--radius);
            box-shadow: var(--shadow-md);
            padding: 30px;
        }

        .detail-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 2px solid var(--border-color);
        }

        .detail-title {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .detail-title h2 {
            font-size: 1.5rem;
            font-weight: 700;
        }

        .last-update {
            font-size: 0.85rem;
            color: var(--text-sub);
        }

        /* í•„í„° ì»¨íŠ¸ë¡¤ */
        .filter-controls {
            display: flex;
            gap: 15px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        .filter-group {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .filter-label {
            font-size: 0.9rem;
            font-weight: 500;
        }

        .filter-select {
            padding: 8px 12px;
            border: 1px solid var(--border-color);
            border-radius: var(--radius);
            font-size: 0.9rem;
            background-color: white;
            cursor: pointer;
        }

        .refresh-btn {
            padding: 8px 16px;
            background-color: var(--primary-color);
            color: white;
            border: none;
            border-radius: var(--radius);
            font-weight: 600;
            cursor: pointer;
            transition: background-color 0.2s;
        }

        .refresh-btn:hover {
            background-color: var(--primary-hover);
        }

        /* ê¸ˆì‹œì„¸ í…Œì´ë¸” */
        .table-wrapper {
            overflow-x: auto;
        }

        .data-table {
            width: 100%;
            border-collapse: collapse;
        }

        .data-table thead {
            background-color: #f9fafb;
        }

        .data-table th {
            padding: 12px 15px;
            text-align: left;
            font-weight: 600;
            color: var(--text-sub);
            font-size: 0.9rem;
            border-bottom: 2px solid var(--border-color);
        }

        .data-table td {
            padding: 12px 15px;
            border-bottom: 1px solid var(--border-color);
            font-size: 0.95rem;
        }

        .data-table tbody tr:hover {
            background-color: #f9fafb;
        }

        /* ë°ì´í„° ë¡œë”© ìƒíƒœ */
        .loading-state {
            text-align: center;
            padding: 40px;
            color: var(--text-sub);
        }

        .loading-spinner {
            display: inline-block;
            width: 40px;
            height: 40px;
            border: 3px solid #e5e7eb;
            border-top-color: var(--primary-color);
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin-bottom: 15px;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* ë¹ˆ ìƒíƒœ */
        .empty-state {
            text-align: center;
            padding: 60px 20px;
            color: var(--text-sub);
        }

        .empty-icon {
            font-size: 3rem;
            margin-bottom: 15px;
        }

        /* --- ëª¨ë‹¬ (Modal) --- */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(0, 0, 0, 0.5);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 1000;
        }

        .modal-overlay.active {
            display: flex;
        }

        .modal {
            background-color: var(--bg-card);
            border-radius: var(--radius);
            box-shadow: var(--shadow-md);
            padding: 30px;
            max-width: 500px;
            width: 90%;
        }

        .modal-title {
            font-size: 1.5rem;
            font-weight: 700;
            margin-bottom: 20px;
        }

        .form-group {
            margin-bottom: 15px;
        }

        .form-label {
            display: block;
            font-weight: 500;
            margin-bottom: 5px;
        }

        .form-input, .form-textarea, .form-select {
            width: 100%;
            padding: 10px 12px;
            border: 1px solid var(--border-color);
            border-radius: var(--radius);
            font-size: 0.95rem;
            font-family: var(--font-family);
        }

        .form-textarea {
            min-height: 100px;
            resize: vertical;
        }

        .icon-selector {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }

        .icon-option {
            width: 50px;
            height: 50px;
            border: 2px solid var(--border-color);
            border-radius: var(--radius);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            cursor: pointer;
            transition: border-color 0.2s, background-color 0.2s;
        }

        .icon-option:hover {
            border-color: var(--primary-color);
            background-color: #f0f7ff;
        }

        .icon-option.selected {
            border-color: var(--primary-color);
            background-color: #dbeafe;
        }

        .modal-buttons {
            display: flex;
            gap: 10px;
            justify-content: flex-end;
            margin-top: 20px;
        }

        .btn {
            padding: 10px 20px;
            border: none;
            border-radius: var(--radius);
            font-weight: 600;
            cursor: pointer;
            transition: background-color 0.2s;
        }

        .btn-primary {
            background-color: var(--primary-color);
            color: white;
        }

        .btn-primary:hover {
            background-color: var(--primary-hover);
        }

        .btn-secondary {
            background-color: var(--bg-body);
            color: var(--text-main);
        }

        .btn-secondary:hover {
            background-color: #e5e7eb;
        }

        /* --- í‘¸í„° (Footer) --- */
        footer {
            background-color: var(--text-main);
            color: #d1d5db;
            padding: 40px 0;
            margin-top: 40px;
        }

        .footer-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .footer-info p {
            font-size: 0.9rem;
            margin-bottom: 5px;
        }

        .footer-links a {
            font-size: 0.9rem;
            margin-left: 20px;
        }

        .footer-links a:hover {
            color: white;
        }

        /* --- ë°˜ì‘í˜• ì²˜ë¦¬ --- */
        @media (max-width: 768px) {
            .header-inner {
                flex-direction: column;
                height: auto;
                padding: 15px 0;
                gap: 15px;
            }

            nav ul {
                gap: 15px;
                font-size: 0.9rem;
            }

            .section-top {
                flex-direction: column;
                align-items: stretch;
                gap: 15px;
            }

            .filter-controls {
                flex-direction: column;
                align-items: stretch;
            }

            .section-title {
                font-size: 1.5rem;
            }
        }
    </style>
</head>
<body>

    <!-- í—¤ë” ì˜ì—­ -->
    <header>
        <div class="container header-inner">
            <a href="index.html" class="logo">Modern Space</a>
            <nav>
                <ul>
                    <li><a href="index.html">í™ˆ</a></li>
                    <li><a href="self-introduction/index.html">ì†Œê°œ</a></li>
                    <li><a href="index.html">ê²Œì‹œíŒ</a></li>
                    <li><a href="database.html" class="active">ë°ì´í„°ë² ì´ìŠ¤</a></li>
                    <li><a href="#">ë¬¸ì˜</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <main>
        <!-- ë°ì´í„°ë² ì´ìŠ¤ ì„¹ì…˜ -->
        <section class="container database-section">
            <div class="section-header">
                <h1 class="section-title">ë°ì´í„°ë² ì´ìŠ¤</h1>
                <p class="section-description">ë‹¤ì–‘í•œ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ íƒìƒ‰í•˜ê³  ë¶„ì„í•˜ì„¸ìš”.</p>
            </div>

            <!-- ì„¹ì…˜ ìƒë‹¨ -->
            <div class="section-top">
                <h2 style="font-size: 1.25rem; font-weight: 600;">ë°ì´í„°ë² ì´ìŠ¤ ëª©ë¡</h2>
                <button class="add-database-btn" id="addDatabaseBtn" title="ë°ì´í„°ë² ì´ìŠ¤ ì¶”ê°€">+</button>
            </div>

            <!-- ë°ì´í„°ë² ì´ìŠ¤ ì¹´ë“œ ê·¸ë¦¬ë“œ -->
            <div class="database-grid" id="databaseGrid">
                <!-- ì¹´ë“œëŠ” JavaScriptë¡œ ë™ì  ë Œë”ë§ -->
            </div>

            <!-- ìƒì„¸ ì„¹ì…˜ -->
            <div class="detail-section" id="detailSection" style="display: none;">
                <div class="detail-header">
                    <div class="detail-title">
                        <span id="detailIcon" class="database-icon">ğŸ…</span>
                        <h2 id="detailTitle">ê¸ˆì‹œì„¸ í¬ë¡¤ë§ ë°ì´í„°</h2>
                    </div>
                    <span class="last-update" id="lastUpdateTime">ë§ˆì§€ë§‰ ì—…ë°ì´íŠ¸: -</span>
                </div>

                <!-- í‚¤í° ìœ ëª…ì¸ í•„í„° ë° í…Œì´ë¸” -->
                <div id="celebritiesContent" style="display: none;">
                    <div class="filter-controls">
                        <div class="filter-group">
                            <span class="filter-label">ì •ë ¬:</span>
                            <select class="filter-select" id="celebritySortSelect">
                                <option value="height_desc">ë†’ì€ í‚¤ìˆœ</option>
                                <option value="height_asc">ë‚®ì€ í‚¤ìˆœ</option>
                                <option value="name_asc">ì´ë¦„ìˆœ</option>
                                <option value="age_asc">ë‚˜ì´ ë§ì€ìˆœ</option>
                            </select>
                        </div>
                        <div class="filter-group">
                            <span class="filter-label">ì§ì—…:</span>
                            <select class="filter-select" id="occupationFilter">
                                <option value="all">ì „ì²´</option>
                                <option value="ë°°ìš°">ë°°ìš°</option>
                                <option value="ê°€ìˆ˜">ê°€ìˆ˜</option>
                                <option value="ì•„ì´ëŒ">ì•„ì´ëŒ</option>
                                <option value="ëª¨ë¸">ëª¨ë¸</option>
                            </select>
                        </div>
                        <div class="filter-group">
                            <span class="filter-label">í‚¤:</span>
                            <select class="filter-select" id="heightFilter">
                                <option value="all">ì „ì²´</option>
                                <option value="190">190cm ì´ìƒ</option>
                                <option value="189">189cm</option>
                                <option value="188">188cm</option>
                                <option value="187">187cm</option>
                                <option value="186">186cm</option>
                                <option value="185">185cm</option>
                            </select>
                        </div>
                        <button class="refresh-btn" id="celebrityRefreshBtn">ğŸ”„ ìƒˆë¡œê³ ì¹¨</button>
                    </div>

                    <div class="table-wrapper">
                        <table class="data-table">
                            <thead>
                                <tr>
                                    <th style="width: 25%;">ì´ë¦„</th>
                                    <th style="width: 20%;">ì§ì—…</th>
                                    <th style="width: 15%;">ì¶œìƒë…„ë„</th>
                                    <th style="width: 15%;">ë‚˜ì´</th>
                                    <th style="width: 15%;">í‚¤ (cm)</th>
                                    <th style="width: 10%;">ì„±ë³„</th>
                                </tr>
                            </thead>
                            <tbody id="celebritiesTableBody">
                                <tr>
                                    <td colspan="6" class="loading-state">
                                        <div class="loading-spinner"></div>
                                        <p>ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...</p>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- ê¸ˆì‹œì„¸ í•„í„° ë° í…Œì´ë¸” -->
                <div id="goldPriceContent">
                    <div class="filter-controls">
                        <div class="filter-group">
                            <span class="filter-label">ì •ë ¬:</span>
                            <select class="filter-select" id="sortSelect">
                                <option value="date_desc">ìµœì‹ ìˆœ</option>
                                <option value="date_asc">ì˜¤ë˜ëœìˆœ</option>
                                <option value="price_desc">ë†’ì€ ê°€ê²©ìˆœ</option>
                                <option value="price_asc">ë‚®ì€ ê°€ê²©ìˆœ</option>
                            </select>
                        </div>
                        <div class="filter-group">
                            <span class="filter-label">ê¸°ê°„:</span>
                            <select class="filter-select" id="periodSelect">
                                <option value="all">ì „ì²´</option>
                                <option value="7">ìµœê·¼ 7ì¼</option>
                                <option value="30">ìµœê·¼ 30ì¼</option>
                                <option value="90">ìµœê·¼ 90ì¼</option>
                            </select>
                        </div>
                        <button class="refresh-btn" id="refreshBtn">ğŸ”„ ìƒˆë¡œê³ ì¹¨</button>
                    </div>

                    <div class="table-wrapper">
                        <table class="data-table">
                            <thead>
                                <tr>
                                    <th style="width: 20%;">ë‚ ì§œ</th>
                                    <th style="width: 20%;">ë‚´ê°€ì‚´ë•Œ ìˆœê¸ˆ 3.75g</th>
                                    <th style="width: 20%;">ë‚´ê°€íŒ”ë•Œ ìˆœê¸ˆ 3.75g</th>
                                    <th style="width: 20%;">ë‚´ê°€íŒ”ë•Œ 18K 3.75g</th>
                                    <th style="width: 20%;">ë‚´ê°€íŒ”ë•Œ 14K 3.75g</th>
                                </tr>
                            </thead>
                            <tbody id="goldPriceTableBody">
                                <tr>
                                    <td colspan="5" class="loading-state">
                                        <div class="loading-spinner"></div>
                                        <p>ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...</p>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- ê¸°íƒ€ ë°ì´í„°ë² ì´ìŠ¤ ë‚´ìš© -->
                <div id="otherDatabaseContent" style="display: none;">
                    <div class="empty-state">
                        <div class="empty-icon">ğŸ“Š</div>
                        <p>ì´ ë°ì´í„°ë² ì´ìŠ¤ëŠ” ì•„ì§ ì¤€ë¹„ ì¤‘ì…ë‹ˆë‹¤. ì›í•˜ì‹œëŠ” ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ì¶”ê°€í•´ì£¼ì‹œë©´ ë¹ ë¥¸ ì‹œì¼ë‚´ì— ì‘ì—…í•´ì„œ ì˜¬ë ¤ë“œë¦´ê»˜ìš” ^^</p>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- í‘¸í„° ì˜ì—­ -->
    <footer>
        <div class="container footer-content">
            <div class="footer-info">
                <p><strong>Modern Space</strong></p>
                <p>ì£¼ì†Œ: ì„œìš¸íŠ¹ë³„ì‹œ ë§ˆí¬ëŒ€ë¡œ 123 | ëŒ€í‘œ: í™ê¸¸ë™</p>
                <p>Â© 2024 Modern Space. All rights reserved.</p>
            </div>
            <div class="footer-links">
                <a href="#">ì´ìš©ì•½ê´€</a>
                <a href="#">ê°œì¸ì •ë³´ì²˜ë¦¬ë°©ì¹¨</a>
                <a href="#">ê³ ê°ì„¼í„°</a>
            </div>
        </div>
    </footer>

    <!-- ë°ì´í„°ë² ì´ìŠ¤ ì¶”ê°€ ëª¨ë‹¬ -->
    <div class="modal-overlay" id="addModal">
        <div class="modal">
            <h3 class="modal-title">ë°ì´í„°ë² ì´ìŠ¤ ì¶”ê°€</h3>
            <form id="addDatabaseForm">
                <div class="form-group">
                    <label class="form-label">ì œëª©</label>
                    <input type="text" class="form-input" id="databaseName" required placeholder="ì˜ˆ: í™˜ìœ¨ ë°ì´í„°">
                </div>
                <div class="form-group">
                    <label class="form-label">ì„¤ëª…</label>
                    <textarea class="form-textarea" id="databaseDescription" required placeholder="ë°ì´í„°ë² ì´ìŠ¤ì— ëŒ€í•œ ì„¤ëª…ì„ ì…ë ¥í•˜ì„¸ìš”."></textarea>
                </div>
                <div class="form-group">
                    <label class="form-label">ì•„ì´ì½˜</label>
                    <div class="icon-selector" id="iconSelector">
                        <div class="icon-option" data-icon="ğŸ“Š">ğŸ“Š</div>
                        <div class="icon-option" data-icon="ğŸ“ˆ">ğŸ“ˆ</div>
                        <div class="icon-option" data-icon="ğŸŒ¦ï¸">ğŸŒ¦ï¸</div>
                        <div class="icon-option" data-icon="ğŸ’°">ğŸ’°</div>
                        <div class="icon-option" data-icon="ğŸ…">ğŸ…</div>
                        <div class="icon-option" data-icon="ğŸ“‰">ğŸ“‰</div>
                        <div class="icon-option" data-icon="ğŸ’¡">ğŸ’¡</div>
                        <div class="icon-option" data-icon="ğŸ¯">ğŸ¯</div>
                    </div>
                    <input type="hidden" id="selectedIcon" value="ğŸ“Š">
                </div>
                <div class="form-group">
                    <label class="form-label">í…Œì´ë¸”ëª…</label>
                    <input type="text" class="form-input" id="tableName" required placeholder="ì˜ˆ: exchange_rates">
                </div>
                <div class="modal-buttons">
                    <button type="button" class="btn btn-secondary" id="cancelBtn">ì·¨ì†Œ</button>
                    <button type="submit" class="btn btn-primary">ì¶”ê°€</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Supabase ì—°ë™ ìŠ¤í¬ë¦½íŠ¸ -->
    <!-- Supabase í´ë¼ì´ì–¸íŠ¸ ë¼ì´ë¸ŒëŸ¬ë¦¬ -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <!-- ì„¤ì • ë° ëª¨ë“ˆ -->
    <script src="js/config/supabase-config.js"></script>
    <script src="js/modules/utils.js"></script>
    <script src="js/modules/database-manager.js"></script>
    <script src="js/modules/gold-prices.js"></script>
    <script src="js/modules/celebrities.js"></script>
    <!-- ë©”ì¸ ì§„ì…ì  -->
    <script src="js/main.js"></script>
</body>
</html>
